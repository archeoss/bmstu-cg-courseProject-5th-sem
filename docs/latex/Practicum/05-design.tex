\chapter{Конструкторский раздел}
\section{Требования к программному обеспечению}
Программа должна предоставлять доступ к функционалу:
\begin{itemize}
    \item Добавление, удаление объектов/композитов;
    \item Вращение, масштабирование, перемещение объектов/композитов;
    \item Редактирование параметров (ширина, высота) объектов;
    \item Изменение положения и типа источника света;
    \item Редактирование объектов (отсечение, закраска нужным цветом);
    \item Редактирование композитов (добавление, удаление объектов);
    \item Осуществление булевых функций над телами вращения;
    \item Передвижение по сцене (перемещение и вращение камеры);
\end{itemize}

К программе предъявляются следующие требования:

\begin{itemize}
    \item время отклика программы должно быть менее 1 секунды для корректной работы в интерактивном режиме;
    \item программа должна корректно реагировать на любые действия пользователя.
\end{itemize}

\section{Разработка алгоритмов}
Для алгоритмов, разработанных автором работы, представлены схемы
алгоритмов. Для алгоритма синтеза изображения, использующего в своей
основе алгоритмы Z-буфера и Гуро представлена блок-схема

\subsection{Алгоритм Z-буфера}
\begin{enumerate}
    \item Всем элементам буфера кадра присвоить фоновое значение
    \item Инициализировать Z буфер минимальными значениями глубины
    \item Выполнить растровую развертку каждого многоугольника сцены:
    \begin{enumerate}
        \item Для каждого пикселя, связанного с многоугольником вычислить его
        глубину z(x, y)
        \item Сравнить глубину пискселя со значением, хранимым в Z буфере.

            Если \(z(x, y) > z\_buf(x, y) \), тогда\newline
            \(z\_buf(x,y) = z(x,y), color(x, y) = colorOfPixel.\)
    \end{enumerate}
    \item Отобразить результат.
\end{enumerate}

\subsection{Простой метод освещения}
В простом методе освещения интенсивность рассчитывается по закону Ламберта:
\[I = I0*cos(\alpha)\], где
I – результирующая интенсивность света в точке
I0 – интенсивность источника
\(\alpha\) – угол между нормалью к поверхности и вектором направления света

\section{Выбор используемых типов и структур данных}
Для разрабатываемого ПО нужно будет реализовать следующие типы и
структуры данных.
\begin{enumerate}
\item \textbf{Источник света} – направленностью света.
\item \textbf{Сцена} – задается объектами сцены.
\item \textbf{Объекты сцены} – задаются вершинами и гранями.
\item \textbf{Математические абстракции}.
    \begin{enumerate}
        \item \textbf{Точка} – хранит координаты x, y, z.
        \item \textbf{Вектор} – хранит направление по x, y, z.
        \item \textbf{Фигура} – хранит вершины, нормаль, цвет.
    \end{enumerate}
\item \textbf{Интерфейс} – используются библиотечные классы для предоставления доступа к интерфейсу.
\item \textbf{Графический обработчик} - абстрактная структура, выполянющая реализацию алгоритмов.
\item \textbf{Фабрики} для сцены, интерфейса, обработчика - для возможной подмены в ходе разработки или дополнения в дальнейшем.
\item \textbf{Композит} - объект, который будет содержать в себе другие объекты
\end{enumerate}
